<div id="{{ scope }}" class="imagetag_wrapper">

    <input type='hidden' class="ajaxRoute" value="{{ (customControllerRoute) ? customControllerRoute : path('PalapImageTagBundle_image_tag', {'imagepath':imagePath|url_encode}) }}">

    <div class='imagetag'>

        <div class='image_panel' style="float: left;">
            <img src="{{ imagePath }}" class='imageMap' alt="{{ alt }}" />
            <div class='mapper'><img class='save_tag' src='{{ asset('bundles/palapimagetag/images/save.png') }}' /></div>

            <div class="tagz">

            </div>
            <div class='save_tag_form' title="Save tag">

                <div class='field'>
                    <p>{% trans %}Tag label{% endtrans %} :</p>
                    <input type='text' class='title' />
                </div>

            </div>
        </div>

        <div class="options">
            <div class="option">
                <input type="button" value="{% trans %}Show Tags{% endtrans %}" onclick="showTags('#{{ scope }}')" />
            </div>
            <div class="option">
                <input type="button" value="{% trans %}Hide Tags{% endtrans %}" onclick="hideTags('#{{ scope }}')" />
            </div>
            <div class="option">
                <div class="colors">
                    <span class="mappercolor black"></span>
                    <span class="mappercolor gray"></span>
                    <span class="mappercolor white"></span>
                    <span class="mappercolor red"></span>
                    <span class="mappercolor orange"></span>
                    <span class="mappercolor yellow"></span>
                    <span class="mappercolor blue"></span>
                    <span class="mappercolor green"></span>
                    <span class="mappercolor purple"></span>
                    <span class="mappercolor pink"></span>
                </div>
            </div>
        </div>

    </div>

    <script type="text/javascript">
        $(document).ready(function() {
            ajaxRequest(true, '#{{ scope }}');
            $(document).on('click', '.save_tag', function(e){
                $(".save_tag_form", e.target.id).dialog({
                    resizable: false,
                    height:260,
                    modal: true,
                    buttons: {
                        {% trans %}Save{% endtrans %}: function() {
                            addTag(e.target.id);
                            $( this ).dialog( "close" );
                        },
                        {% trans %}Cancel{% endtrans %}: function() {
                            $( this ).dialog( "close" );
                        }
                    }
                });
                e.preventDefault();
            });
        });
    </script>

    <div style="clear: both;"></div>
</div>